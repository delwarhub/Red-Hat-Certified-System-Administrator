Below are **clean, exam-style, step-by-step solutions** for all File Sharing & Transfer tasks ‚Äî VDO, autofs, and tar archives.
These are *exactly* the processes the RHCSA expects you to know.
I‚Äôll also include quick verification commands so you can practice confidently.

---

# üîµ **1. Configure a basic VDO volume**

*(Appears in RHEL 8 RHCSA ‚Üí may or may not appear depending on your exam version)*

### **Goal Example**

* Backing device: `/dev/sdb`
* VDO name: `vdo1`
* Logical size: `50G`
* Mount point: `/vdo`

---

### **Step 1 ‚Äî Install VDO tools**

```bash
sudo dnf install -y vdo kmod-kvdo
```

---

### **Step 2 ‚Äî Create the VDO volume**

```bash
sudo vdo create --name=vdo1 --device=/dev/sdb --vdoLogicalSize=50G
```

This creates:

* `/dev/mapper/vdo1` (usable device)
* Compression + deduplication ready

---

### **Step 3 ‚Äî Format it**

Most common filesystem in RHCSA is **XFS**:

```bash
sudo mkfs.xfs /dev/mapper/vdo1
```

---

### **Step 4 ‚Äî Create mount point**

```bash
sudo mkdir /vdo
```

---

### **Step 5 ‚Äî Add to `/etc/fstab`**

Get UUID:

```bash
blkid /dev/mapper/vdo1
```

Add to `/etc/fstab`:

```
UUID=<UUID>   /vdo   xfs   defaults,x-systemd.requires=vdo.service   0 0
```

---

### **Step 6 ‚Äî Mount**

```bash
sudo mount -a
```

---

### **Verify**

```bash
vdo status
df -h /vdo
```

---

# üîµ **2. Set up a simple autofs mount**

This is **high-probability** RHCSA exam content.

### **Goal Example**

Automatically mount NFS share:

* NFS server: `server.example.com`
* Export: `/share`
* Auto-mount location: `/misc/share`

---

### **Step 1 ‚Äî Install autofs**

```bash
sudo dnf install -y autofs
```

---

### **Step 2 ‚Äî Edit `/etc/auto.master`**

Add:

```
/misc   /etc/auto.misc
```

(This is typically already present but commented.)

---

### **Step 3 ‚Äî Edit `/etc/auto.misc`**

Add a map entry:

```
share   -rw   server.example.com:/share
```

Meaning:

* Auto-created dir ‚Üí `/misc/share`
* Source NFS ‚Üí `server.example.com:/share`

---

### **Step 4 ‚Äî Restart autofs**

```bash
sudo systemctl enable --now autofs
```

---

### **Step 5 ‚Äî Test**

Accessing the directory triggers the mount:

```bash
ls /misc/share
df -h | grep share
```

Autofs mounts **on demand**, and unmounts after idle timeout.

---

### **Verify autofs is active**

```bash
systemctl status autofs
mount | grep misc
```

---

# üîµ **3. Create a tar archive and extract it to a precise location**

This shows up all the time ‚Äî trivial, but exam-critical.

---

## **Make an archive**

Example: archive `/opt/scripts`

```bash
sudo tar -cvf /root/scripts.tar /opt/scripts
```

* `c` = create
* `v` = verbose
* `f` = file

---

## **Extract archive to a specific directory**

### Example: extract to `/srv/recovered_scripts`

```bash
sudo mkdir -p /srv/recovered_scripts
sudo tar -xvf /root/scripts.tar -C /srv/recovered_scripts
```

* `x` = extract
* `C` = change target directory

---

## **Verify**

```bash
ls /srv/recovered_scripts
tar -tf /root/scripts.tar
```

---

# üü¢ **Quick Exam Cheat Sheet**

### **VDO**

```
vdo create --name=name --device=/dev/sdX --vdoLogicalSize=SIZE
mkfs.xfs /dev/mapper/name
```

### **autofs**

```
/etc/auto.master  ‚Üí  /mountpoint  /etc/auto.map
/etc/auto.map     ‚Üí  key   opts   server:/export
systemctl restart autofs
```

### **tar**

```
tar -cvf file.tar DIR
tar -xvf file.tar -C /path
```

---

Excellent ‚Äî here are **three advanced, exam-level RHCSA challenges**, each designed to simulate *real* exam difficulty:

1Ô∏è‚É£ **File-Sharing + SELinux + Autofs Combined Exam**
2Ô∏è‚É£ **Storage + VDO + LVM Multi-Topic Challenge**
3Ô∏è‚É£ **Full-Length RHCSA Final Practice Exam** (all sections)

These will push you to *true* exam readiness.

---

# üî• **1Ô∏è‚É£ File-Sharing + SELinux + Autofs Combined Exam (RHCSA-Style)**

Your company is deploying shared resources accessible over NFS. SELinux must remain enforcing, autofs must manage mounts dynamically, and all access must be correctly controlled.

---

## **üî∑ Scenario Requirements**

### **A. NFS Server Setup (local machine acts as server)**

1. Configure `/srv/sharedata` as an NFS export
2. Permissions:

   * Owned by group **devops**
   * Group must have read/write access
3. Export it to:

   * Network `10.10.20.0/24` with **rw** access

### **B. SELinux Requirements**

1. Ensure SELinux labels on `/srv/sharedata` allow NFS exporting
2. SELinux must remain **Enforcing**

### **C. Autofs Client Setup (same machine acting as client)**

1. Configure autofs to mount the NFS share at:

   ```
   /mnt/auto/devshare
   ```
2. Accessing the directory must trigger auto-mounting

### **D. Verification**

* Navigating into `/mnt/auto/devshare` must show contents of `/srv/sharedata`
* SELinux must stay Enforcing
* Share must survive service reloads and reboots

---

## **‚úî Expected Solution Outline**

### **A. NFS Share**

```bash
groupadd devops
mkdir -p /srv/sharedata
chgrp devops /srv/sharedata
chmod 2775 /srv/sharedata
```

Edit `/etc/exports`:

```
/srv/sharedata 10.10.20.0/24(rw,no_root_squash)
```

Enable NFS:

```bash
systemctl enable --now nfs-server
exportfs -rav
```

---

### **B. SELinux for NFS**

```bash
semanage fcontext -a -t nfs_t "/srv/sharedata(/.*)?"
restorecon -Rv /srv/sharedata
getenforce
```

---

### **C. Autofs**

Edit `/etc/auto.master`:

```
/mnt/auto   /etc/auto.devshare
```

Create `/etc/auto.devshare`:

```
devshare  -rw  localhost:/srv/sharedata
```

Enable autofs:

```bash
systemctl enable --now autofs
```

Access:

```bash
ls /mnt/auto/devshare
```

---

# ----------------------------------------------------

# üî• **2Ô∏è‚É£ Storage + VDO + LVM Multi-Topic Challenge**

This scenario tests *every major storage skill* on RHCSA.

---

# **üî∑ Scenario Requirements**

You are given three unused disks:

* `/dev/sdb`
* `/dev/sdc`
* `/dev/sdd`

Complete the following tasks:

---

### **A. Create a VDO volume**

* Device: `/dev/sdb`
* VDO name: `vdo1`
* Logical size: `100G`
* Filesystem: **XFS**
* Mount at `/vdo` persistently

---

### **B. Create LVM stack**

1. Create PVs on `/dev/sdc` and `/dev/sdd`
2. Create a VG named `vgapps`
3. Create a 10G LV named `lvapp`
4. Format as **ext4**
5. Mount at `/apps` persistently

---

### **C. Resize Operations**

1. Increase `lvapp` by **+5G**
2. Expand the ext4 filesystem
3. Create another LV `lvlog` (2G), format XFS, mount at `/logs`

---

### **D. Verification**

* All filesystems must mount via `/etc/fstab`
* XFS volume **cannot** be shrunk
* ext4 volume must expand correctly
* VDO must show correct status

---

## **‚úî Expected Solution Summary**

### **A. VDO**

```bash
dnf install -y vdo kmod-kvdo
vdo create --name=vdo1 --device=/dev/sdb --vdoLogicalSize=100G
mkfs.xfs /dev/mapper/vdo1
mkdir /vdo
blkid /dev/mapper/vdo1
```

Add to `/etc/fstab`:

```
UUID=<uuid>   /vdo   xfs   defaults,x-systemd.requires=vdo.service   0 0
```

---

### **B. LVM**

```bash
pvcreate /dev/sdc /dev/sdd
vgcreate vgapps /dev/sdc /dev/sdd
lvcreate -L 10G -n lvapp vgapps
mkfs.ext4 /dev/vgapps/lvapp
mkdir /apps
```

Add to fstab:

```
UUID=<uuid> /apps ext4 defaults 0 0
```

---

### **C. Resize**

```bash
lvextend -L +5G /dev/vgapps/lvapp
resize2fs /dev/vgapps/lvapp
```

Create second LV:

```bash
lvcreate -L 2G -n lvlog vgapps
mkfs.xfs /dev/vgapps/lvlog
mkdir /logs
```

---

# ----------------------------------------------------

# üî• **3Ô∏è‚É£ Full-Length RHCSA Final Practice Exam (All Domains)**

This is a **complete mock RHCSA exam**, covering every major topic.

---

# **üî∑ SECTION A ‚Äî Users, Groups, Permissions**

1. Create users `user1`, `user2`
2. Create group `team`
3. Put users into the group
4. Create directory `/project` with SGID & ACLs
5. Ensure user2 has read-only access

---

# **üî∑ SECTION B ‚Äî SELinux**

1. Allow Apache to read `/srv/wwwapp`
2. Ensure SELinux remains enforcing

---

# **üî∑ SECTION C ‚Äî Firewalld**

1. Open port 8080
2. Allow HTTP
3. Allow SSH only from 10.0.0.0/24
4. Add one rich rule blocking IP 10.0.0.99

---

# **üî∑ SECTION D ‚Äî Storage**

1. Create an LVM stack with `/dev/sdc`, `/dev/sdd`
2. Mount at `/data`
3. Extend the LV by 2G
4. Create 2G swap file

---

# **üî∑ SECTION E ‚Äî Networking**

1. Set static IP 192.168.50.20
2. Gateway 192.168.50.1
3. DNS 8.8.8.8
4. Create backup profile with DHCP
5. Ensure primary autoconnects

---

# **üî∑ SECTION F ‚Äî Boot & Rescue**

1. System fails due to broken fstab ‚Äî fix it
2. Reset root password using rd.break
3. Enable sshd and ensure it starts on boot
4. Mask the `backupd` service

---

# **üî∑ SECTION G ‚Äî Software Management**

1. Create a local repository using mounted ISO
2. Install a specific version of bash
3. Remove a package
4. Create script to auto-install package list

---

# **üî∑ SECTION H ‚Äî Autofs or VDO**

1. Configure autofs to mount an NFS share
   OR
2. Setup a VDO volume

---
