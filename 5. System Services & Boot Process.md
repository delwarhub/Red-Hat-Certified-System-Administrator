Below are **exam-focused, step-by-step solutions** for every System Services & Boot Process task.
These are the *exact procedures* Red Hat expects during the RHCSA exam ‚Äî nothing extra, no wasted motion.

---

# üîµ **1. Enable a service to start on boot**

Example service: `httpd`

### **Steps**

```bash
sudo systemctl enable httpd
sudo systemctl start httpd
```

### **Verify**

```bash
systemctl is-enabled httpd
systemctl status httpd
```

Expected: **enabled** and **active (running)**.

---

# üîµ **2. Mask a service so it cannot start at all**

Example: `firewalld`

### **Steps**

```bash
sudo systemctl mask firewalld
sudo systemctl stop firewalld
```

### **Verify**

```bash
systemctl status firewalld
```

It should display:
**masked (no-start link: /dev/null)**

To unmask:

```bash
sudo systemctl unmask firewalld
```

---

# üîµ **3. Boot the system into rescue mode**

This is done **from the GRUB boot menu**.

### **Steps**

1. Reboot:

   ```bash
   sudo reboot
   ```

2. At the GRUB screen highlight your default kernel and press **e**.

3. Find the line beginning with:

   ```
   linux16
   ```

   or

   ```
   linux
   ```

4. Append the word:

   ```
   systemd.unit=rescue.target
   ```

   to the end of that line.

5. Press **Ctrl + X** or **F10** to boot.

You‚Äôll enter a minimal environment requiring the root password.

### **Verify**

```bash
systemctl get-default
```

Should show:

```
rescue.target
```

---

# üîµ **4. Reset the root password from the GRUB menu**

This is a core RHCSA technique ‚Äî must know cold.

### **Steps**

1. Reboot:

   ```bash
   sudo reboot
   ```

2. At the GRUB menu, highlight the default kernel and press **e**.

3. Find the line that starts with:

   ```
   linux
   ```

4. Append this to the end of the line:

   ```
   rd.break
   ```

5. Boot with **Ctrl + X**.

6. You will enter an emergency shell at **/sysroot**.

7. Remount the filesystem read-write:

   ```bash
   mount -o remount,rw /sysroot
   ```

8. Enter chroot:

   ```bash
   chroot /sysroot
   ```

9. Reset root password:

   ```bash
   passwd root
   ```

10. Force SELinux relabel:

```bash
touch /.autorelabel
```

11. Exit twice:

```bash
exit
exit
```

12. The system reboots, relabels, and accepts new password.

---

# üîµ **5. Fix a broken boot caused by an incorrect `/etc/fstab` entry**

This is one of the most common RHCSA troubleshooting items.

### **Symptoms**

* System drops to emergency mode
* Message: ‚ÄúCannot mount ‚Ä¶ fstab error‚Äù

### **Steps**

1. From emergency mode, enable full root shell:

   ```bash
   mount -o remount,rw /
   ```

2. Open `/etc/fstab`:

   ```bash
   vi /etc/fstab
   ```

   OR remove/ comment the faulty line with `#`.

Typical mistakes:

* Wrong UUID
* Wrong mountpoint
* Missing filesystem type
* Missing `0 0` at the end
* Typos

3. Save and exit.

4. Test fstab (critical!):

   ```bash
   mount -a
   ```

   If there are errors, fix again until clean.

5. Reboot:

   ```bash
   reboot
   ```

System should now boot normally.

---

# üîµ **6. Investigate service failures using `journalctl`**

Example: investigate why `httpd` failed.

### **Check service logs**

```bash
sudo journalctl -u httpd
```

### **Show only recent boot logs**

```bash
sudo journalctl -b
```

### **Follow logs live (like tail -f)**

```bash
sudo journalctl -u httpd -f
```

### **Search for errors**

```bash
sudo journalctl -p err -b
```

### **Check why a service failed**

```bash
systemctl status httpd
journalctl -xe
```

---

# üü¢ **Quick Exam Cheat Sheet**

| Task                | Command                                       |
| ------------------- | --------------------------------------------- |
| Enable service      | `systemctl enable NAME`                       |
| Mask service        | `systemctl mask NAME`                         |
| Boot rescue         | Add `systemd.unit=rescue.target` in GRUB      |
| Reset root password | Add `rd.break`, chroot, passwd                |
| fstab repair        | `mount -o remount,rw /`, fix file, `mount -a` |
| Service logs        | `journalctl -u NAME`                          |

---

Below are **three advanced, RHCSA-style boot & services challenges**, each designed to build real exam-level mastery:

1Ô∏è‚É£ A **combined Services + Boot Troubleshooting Scenario**
2Ô∏è‚É£ A **timed Boot-Failure Rescue Drill**
3Ô∏è‚É£ A **full mock RHCSA Boot-Process Exam**

All three mirror the logic, difficulty, and style you should expect in the real test.

---

# üî• **1Ô∏è‚É£ Combined Services + Boot Troubleshooting Scenario**

## **üî∑ Scenario**

Your RHEL system is failing to start critical services after an update. Additionally, a wrong fstab entry causes the machine to drop to emergency mode on boot.

You must repair **all issues**.

---

## **üî∑ Problems to Fix**

### **A. System boots into emergency mode**

The error on screen:

```
Failed to mount /mnt/data due to an invalid UUID in /etc/fstab
```

### **B. The `sshd` service fails on boot**

System administrator reports:

```
sshd.service: Failed with result 'exit-code'
```

### **C. A service called `autosync.service` must never start (mask it)**

### **D. Apache (httpd) must start automatically but currently does not**

### **E. Hostname is incorrect and must be changed to:**

```
node4.lab.local
```

---

## **üî∑ Expected Solution Steps**

### **A. Fix fstab to restore boot**

1. Get root shell in emergency mode
2. Remount root FS RW:

   ```bash
   mount -o remount,rw /
   ```
3. Edit fstab:

   ```bash
   vi /etc/fstab
   ```
4. Comment or correct the bad UUID line
5. Test:

   ```bash
   mount -a
   ```
6. Reboot:

   ```bash
   reboot
   ```

---

### **B. Fix SSH service failure**

1. Inspect service:

   ```bash
   systemctl status sshd
   ```
2. Check logs:

   ```bash
   journalctl -u sshd -xe
   ```
3. If missing host keys (common):

   ```bash
   rm -f /etc/ssh/ssh_host_*
   ssh-keygen -A
   systemctl start sshd
   ```
4. Enable:

   ```bash
   systemctl enable sshd
   ```

---

### **C. Mask autosync service**

```bash
systemctl mask autosync
systemctl stop autosync
```

---

### **D. Enable Apache (httpd)**

```bash
systemctl enable httpd
systemctl start httpd
```

---

### **E. Change hostname**

```bash
hostnamectl set-hostname node4.lab.local
```

---

## **üî∑ Verification Checklist**

```bash
systemctl status sshd
systemctl status httpd
systemctl is-enabled httpd
systemctl is-enabled autosync
mount -a
hostnamectl
```

If everything above is clean ‚Üí scenario passed.

---

# ----------------------------------------------------------

# üî• **2Ô∏è‚É£ Boot Failure Rescue Drill (Timed ‚Äî Complete in 10 Minutes)**

This is a fast-paced RHCSA drill designed to train speed.

---

## **üî∑ Scenario**

System refuses to boot normally and stops at a `dracut` emergency shell.
The root password is unknown.
You must:

1. Reset the root password
2. Fix a broken `/etc/fstab`
3. Get the system to boot normally
4. Ensure `firewalld` is disabled but *not masked*
5. Ensure `chronyd` is enabled and running

---

## **‚è± Target Time:** 10 minutes

---

## **üî∑ Expected Steps (Fast Path)**

### **1. Reset root password**

1. At GRUB press **e**
2. Add `rd.break`
3. Boot with **Ctrl+X**
4. Remount RW:

   ```bash
   mount -o remount,rw /sysroot
   ```
5. Chroot:

   ```bash
   chroot /sysroot
   ```
6. Reset password:

   ```bash
   passwd root
   ```
7. Force SELinux relabel:

   ```bash
   touch /.autorelabel
   ```
8. Exit twice to reboot

---

### **2. Fix fstab**

After relabel, if system still fails:

1. Enter emergency shell
2. Remount root RW:

   ```bash
   mount -o remount,rw /
   ```
3. Edit fstab:

   ```bash
   vi /etc/fstab
   ```
4. Fix UUID / comment the bad entry
5. Test:

   ```bash
   mount -a
   ```
6. Reboot

---

### **3. Configure services**

Once system boots:

#### Disable firewalld but do not mask:

```bash
systemctl stop firewalld
systemctl disable firewalld
```

#### Enable & start chronyd:

```bash
systemctl enable chronyd
systemctl start chronyd
```

---

## **üî∑ Verification**

```bash
mount -a
systemctl status firewalld
systemctl status chronyd
```

If both services show correct enable/disable state ‚Üí drill passed.

---

# ----------------------------------------------------------

# üî• **3Ô∏è‚É£ Full Mock RHCSA Boot-Process Exam**

This is a complete boot-process exam simulation.

---

# **üî∑ Full Scenario**

The system is experiencing multiple boot and service issues. As the administrator, you must repair all of them.

---

## **üü• Part 1 ‚Äî Boot Issues**

### **1. The system fails to boot due to:**

* Invalid UUID in `/etc/fstab`
* Missing mountpoint directory
* SELinux context mismatch on `/opt/data`

### **Repair all problems so the system boots normally.**

---

## **üü• Part 2 ‚Äî GRUB & Password Recovery**

### **2. The root password is unknown.**

Reset it using the GRUB `rd.break` method
and ensure SELinux relabels automatically.

---

## **üü• Part 3 ‚Äî Service Management**

### Fix the following service issues:

### **3. `nginx` service is masked‚Äîunmask & enable it**

### **4. `sshd` does not start automatically‚Äîfix it**

### **5. Disable `postfix` permanently but do not mask it**

---

## **üü• Part 4 ‚Äî Boot Targets**

### **6. System must boot into multi-user mode by default**

---

# ----------------------------------------------------------

# üîµ **Expected Solutions (Exam Format)**

### **Part 1 ‚Äî Fix Boot**

#### A. Enter emergency mode

System boots into dracut/emergency.

#### B. Fix fstab

```bash
mount -o remount,rw /
vi /etc/fstab
# Fix UUID or comment entry
mount -a
```

#### C. Create missing mountpoint

```bash
mkdir -p /opt/data
mount -a
```

#### D. Fix SELinux context

```bash
restorecon -Rv /opt/data
```

Reboot:

```bash
reboot
```

---

### **Part 2 ‚Äî Reset root password**

Follow standard `rd.break` procedure:

1. Add `rd.break` in GRUB
2. `mount -o remount,rw /sysroot`
3. `chroot /sysroot`
4. `passwd root`
5. `touch /.autorelabel`
6. Exit twice ‚Üí reboot

---

### **Part 3 ‚Äî Service Fixing**

#### A. Unmask & enable nginx

```bash
systemctl unmask nginx
systemctl enable nginx
systemctl start nginx
```

#### B. Fix sshd

If key missing:

```bash
rm -f /etc/ssh/ssh_host_*
ssh-keygen -A
systemctl enable sshd
systemctl start sshd
```

#### C. Disable postfix permanently (but do NOT mask)

```bash
systemctl disable postfix
systemctl stop postfix
```

---

### **Part 4 ‚Äî Boot Target**

```bash
systemctl set-default multi-user.target
```

