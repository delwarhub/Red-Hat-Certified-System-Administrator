Below are **clean, exam-ready scripting solutions** for all three lightweight RHCSA scripting tasks.
Each one is written in the simple, clear Bash style the RHCSA exam expects ‚Äî no unnecessary complexity, no advanced features.

---

# üîµ **1. Script that:**

* Accepts an argument
* Creates a directory if it doesn‚Äôt exist
* Logs output to `/var/log/custom.log`

---

### **Script name:** `/root/mkdir_log.sh`

### **Code:**

```bash
#!/bin/bash

DIR="$1"
LOG="/var/log/custom.log"

if [ -z "$DIR" ]; then
    echo "Usage: $0 <directory>" | tee -a $LOG
    exit 1
fi

if [ -d "$DIR" ]; then
    echo "$(date): Directory $DIR already exists" | tee -a $LOG
else
    mkdir -p "$DIR"
    echo "$(date): Created directory $DIR" | tee -a $LOG
fi
```

### **Make it executable:**

```bash
chmod +x /root/mkdir_log.sh
```

### **Test:**

```bash
/root/mkdir_log.sh /tmp/testdir
```

---

# üîµ **2. Script to start or stop a service using conditionals**

### **Goal:**

Run as:

```
scriptname.sh start sshd
scriptname.sh stop httpd
```

---

### **Script name:** `/root/svc_control.sh`

### **Code:**

```bash
#!/bin/bash

ACTION="$1"
SERVICE="$2"

if [ -z "$ACTION" ] || [ -z "$SERVICE" ]; then
    echo "Usage: $0 {start|stop|status} <service>"
    exit 1
fi

if [ "$ACTION" = "start" ]; then
    systemctl start $SERVICE
    echo "Started $SERVICE"
elif [ "$ACTION" = "stop" ]; then
    systemctl stop $SERVICE
    echo "Stopped $SERVICE"
elif [ "$ACTION" = "status" ]; then
    systemctl status $SERVICE
else
    echo "Invalid action. Use start|stop|status."
fi
```

### **Make it executable:**

```bash
chmod +x /root/svc_control.sh
```

### **Test examples:**

```bash
/root/svc_control.sh start sshd
/root/svc_control.sh stop firewalld
/root/svc_control.sh status chronyd
```

---

# üîµ **3. Automate creation of 10 users from a text file**

### **Step 1 ‚Äî Create a file with usernames**

Example file `/root/userlist.txt`:

```bash
user01
user02
user03
user04
user05
user06
user07
user08
user09
user10
```

---

### **Step 2 ‚Äî Create script `/root/create_users.sh`:**

### **Code:**

```bash
#!/bin/bash

USERFILE="/root/userlist.txt"

while read USER; do
    if id "$USER" &>/dev/null; then
        echo "User $USER already exists"
    else
        useradd "$USER"
        echo "Created user $USER"
    fi
done < "$USERFILE"
```

---

### **Make executable:**

```bash
chmod +x /root/create_users.sh
```

---

### **Run:**

```bash
/root/create_users.sh
```

---

### **Verify created users:**

```bash
cut -d: -f1 /etc/passwd | grep user0
```

---

# üü¢ **RHCSA Script Cheat Sheet**

| Task                        | Example                          |
| --------------------------- | -------------------------------- |
| Accept argument             | `DIR="$1"`                       |
| Directory exists?           | `[ -d "$DIR" ]`                  |
| Logging                     | `echo "msg" >> logfile`          |
| While read loop             | `while read X; do ‚Ä¶ done < file` |
| Conditional service control | `systemctl start/stop $SERVICE`  |

---
Great ‚Äî here are **three powerful scripting resources** to take your RHCSA prep to the next level:

1Ô∏è‚É£ A **scripting-only RHCSA exam simulation**
2Ô∏è‚É£ A **shell scripting quick-reference guide**
3Ô∏è‚É£ A set of **20 mini scripting drills** (each designed to take 30‚Äì60 seconds)

These are tailored to RHCSA difficulty and style.

---

# üî• **1Ô∏è‚É£ Scripting-Only RHCSA Exam Simulation**

Perform all tasks exactly as written.
Each script must be saved in root‚Äôs home directory and be executable.

---

## **üî∑ Task 1 ‚Äî Directory/Argument Script**

Write a script named `/root/checkdir.sh` that:

* Accepts one argument (directory path)
* Creates the directory if it does not exist
* Prints appropriate messages
* Logs every action to `/var/log/checkdir.log`
* Exits with error if no argument provided

---

## **üî∑ Task 2 ‚Äî Service Control Script**

Write `/root/svcmanage.sh` that:

* Accepts two arguments: `start|stop|restart|status` and a service name
* Performs the requested action using `systemctl`
* Prints a meaningful message for each case
* Shows an error for invalid action

---

## **üî∑ Task 3 ‚Äî User Creation Automation**

Write `/root/bulkusers.sh` that:

* Reads usernames from `/root/userlist.txt`
* Creates a user **only if it doesn't already exist**
* Prints a status message for each user

---

## **üî∑ Task 4 ‚Äî File Backup Script**

Write `/root/backup.sh` that:

* Accepts a filename as the argument
* Creates a backup copy in `/root/backup/`
* Names the backup:

  ```
  originalname-YYYYMMDD-HHMMSS.bak
  ```
* Logs actions to `/var/log/backup.log`

---

## **üî∑ Task 5 ‚Äî Disk Usage Alert Script**

Write `/root/diskalert.sh` that:

* Checks disk usage on `/`
* If usage exceeds **75%**, print ‚ÄúWARNING: Disk usage high‚Äù
* Else print ‚ÄúDisk usage normal‚Äù

---

## **üî∑ Task 6 ‚Äî Network Connectivity Script**

Write `/root/pingtest.sh` that:

* Accepts an IP address
* Pings it once
* Prints ‚ÄúUP‚Äù if reachable
* Prints ‚ÄúDOWN‚Äù otherwise

---

## **üî∑ Task 7 ‚Äî Package Installation Script**

Write `/root/installpkg.sh` that:

* Accepts a package name
* Attempts to install it
* Logs success or failure in `/var/log/pkginstall.log`

---

## ‚úî After finishing all tasks:

Make scripts executable:

```bash
chmod +x /root/*.sh
```

---

# -----------------------------------------------------

# üî• **2Ô∏è‚É£ Shell Scripting Quick-Reference Guide (RHCSA Focused)**

A compact cheat sheet of the patterns you‚Äôll use in the exam.

---

# **üî∑ Argument Handling**

```bash
VAR="$1"
if [ -z "$VAR" ]; then
    echo "Usage: $0 <arg>"
    exit 1
fi
```

---

# **üî∑ Basic Conditionals**

```bash
if [ "$A" = "yes" ]; then
    ...
elif [ "$A" = "no" ]; then
    ...
else
    ...
fi
```

---

# **üî∑ File/Directory Tests**

```bash
[ -f FILE ]   # regular file
[ -d DIR ]    # directory
[ -e PATH ]   # exists
```

---

# **üî∑ Loops**

### While read:

```bash
while read LINE; do
    echo "$LINE"
done < file.txt
```

### For loop:

```bash
for x in 1 2 3; do
    echo $x
done
```

---

# **üî∑ Logging**

```bash
echo "$(date): message" >> /var/log/script.log
```

---

# **üî∑ Service Control**

```bash
systemctl start SERVICE
systemctl stop SERVICE
systemctl status SERVICE
```

---

# **üî∑ Date Formatting**

```bash
DATE=$(date +%Y%m%d-%H%M%S)
```

---

# **üî∑ Exit Codes**

```bash
exit 0   # success
exit 1   # general failure
```

---

# -----------------------------------------------------

# üî• **3Ô∏è‚É£ 20 Mini Shell Scripting Drills (30‚Äì60 Seconds Each)**

Do these repeatedly until they become muscle memory.
Great for last-week RHCSA prep.

---

## **1. Print all arguments passed to a script.**

(Hint: `$@`)

---

## **2. Check if a file exists; if not, create it.**

---

## **3. Accept a username; print whether user exists.**

---

## **4. Accept two numbers; print their sum.**

---

## **5. Loop through 1 to 5 and print each number.**

---

## **6. Read a list of packages from a file and echo each name.**

---

## **7. Create a log entry: ‚ÄúScript ran at TIME‚Äù.**

---

## **8. Accept a directory; exit if it doesn't exist.**

---

## **9. Accept a service name; print if it‚Äôs active.**

---

## **10. Check if `/var/log/messages` is larger than 10MB.**

---

## **11. Accept an IP; ping it once; print UP/DOWN.**

---

## **12. Append current date to a text file.**

---

## **13. Loop over all files in /etc and print file names.**

---

## **14. Accept a package name; print if installed (rpm -q).**

---

## **15. Make a backup of a file to `/tmp/filename.bak`.**

---

## **16. Count number of lines in `/etc/passwd`.**

---

## **17. Create users from a list but skip if they already exist.**

---

## **18. Print ‚ÄúEven‚Äù or ‚ÄúOdd‚Äù for a number argument.**

---

## **19. Accept directory path; show disk usage (du -sh).**

---

## **20. Create a script that deletes files older than 10 days.**

(Hint: `find /path -mtime +10 -delete`)

